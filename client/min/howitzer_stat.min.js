window.howitzer_stat_url="http://localhost:7000",function(){function t(t,n,i,o){var r,u=e(n);XMLHttpRequest?(r=new XMLHttpRequest,"withCredentials"in r&&(r.open(t,u,!0),r.onerror=o,r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<400?i(r.responseText):o(new Error("Response returned with non-OK status")))},r.send(n))):XDomainRequest?(r=new XDomainRequest,r.open(t,u),r.onerror=o,r.onload=function(){i(r.responseText)},r.send(n)):o(new Error("CORS not supported"))}var e=function(t){return t.pageName?url=window.howitzer_stat_url+"/pages/"+t.pageName:(url=window.howitzer_stat_url+"/page_classes",t.url&&t.title&&(url+="?url="+t.url+"&title="+t.title)),url},n=function(e){var n=document.createElement("div");n.setAttribute("class","hs-number"),n.innerHTML=e||"Not Found";var i=document.createElement("li");null==e?i.setAttribute("class","hs-button"):(i.setAttribute("class","hs-button-active"),i.setAttribute("style","display: block;"),i.setAttribute("data-page-name",e),i.addEventListener("click",function(){if(a())l(),b();else{o("Loading");var e=this.getAttribute("data-page-name");u(e);var n={pageName:e};t("GET",n,A,w)}})),i.appendChild(n),s().appendChild(i)},i=function(){s().innerHTML=""},o=function(t){s().innerHTML='<li class="hs-button"><div class="hs-number">'+t+"...</div></li>"},r=function(t){var e=null==t?"Error":t;s().innerHTML='<li class="hs-button"><div class="hs-number error">'+e+"</div></li>"},u=function(t){s().setAttribute("data-active-page",t)},a=function(){return!!s().getAttribute("data-active-page")},s=function(){return document.getElementById("hs_tooltip")},l=function(){s().setAttribute("style","display: none")},c=function(){s().setAttribute("style","display: block")},d=function(){return document.getElementById("hs_popup")},p=function(){return document.getElementById("cucumberStat")},f=function(){return document.getElementById("hs_popup__close")},m=function(){return document.getElementById("hs_collapse_all")},h=function(){return document.getElementById("hs_expand_all")},g=function(){return document.getElementsByClassName("collapsible")},v=function(){d().setAttribute("style","display: none;")},b=function(){d().setAttribute("style","display: block;")},y=function(){_.each(g(),function(t){t.setAttribute("style","display: none;")})},w=function(t){console.log(t),r(null)},E=function(t){i();var e=JSON.parse(t).page;0==e.length&&n(null),_.each(e,function(t){n(t)})},A=function(t){var e=s().getAttribute("data-active-page");l(),i(),n(e);var o=JSON.parse(t).features;d().innerHTML=""==o?"There is no tests that include this page.":_.template(p().innerHTML,{features:o}),f().addEventListener("click",function(){v(),c()}),m().addEventListener("click",function(t){y(),t.preventDefault()}),h().addEventListener("click",function(t){_.each(g(),function(t){t.setAttribute("style","")}),t.preventDefault()}),y(),b()};window.onload=function(){var e='<ol id="hs_tooltip"></ol>\n<div id="hs_popup" style="display: none;">';document.getElementById("hs_wrapper").innerHTML=e,o("Page identification");var n={url:document.URL||window.location.href,title:document.title};t("GET",n,E,w)}}();
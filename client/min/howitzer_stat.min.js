window.howitzer_stat_url="http://localhost:7000",function(){function t(t,e,n,i){var o;XMLHttpRequest?(o=new XMLHttpRequest,"withCredentials"in o&&(o.open(t,e,!0),o.onerror=i,o.onreadystatechange=function(){4===o.readyState&&(o.status>=200&&o.status<400?n(o.responseText):i(new Error("Response returned with non-OK status")))},o.send(data))):XDomainRequest?(o=new XDomainRequest,o.open(t,e),o.onerror=i,o.onload=function(){n(o.responseText)},o.send(data)):i(new Error("CORS not supported"))}var e=function(t){return t.pageName?url=window.howitzer_stat_url+"/pages/"+t.pageName:(url=window.howitzer_stat_url+"/page_classes",t.url&&t.title&&(url+="?url="+t.url+"&title="+t.title)),url},n=function(n){var i=document.createElement("div");i.setAttribute("class","hs-number"),i.innerHTML=n||"Not Found";var r=document.createElement("li");null==n?r.setAttribute("class","hs-button"):(r.setAttribute("class","hs-button-active"),r.setAttribute("style","display: block;"),r.setAttribute("data-page-name",n),r.addEventListener("click",function(){if(a())l(),b();else{o("Loading");var n=this.getAttribute("data-page-name");u(n);var i=e({pageName:n});t("GET",i,A,w)}})),r.appendChild(i),s().appendChild(r)},i=function(){s().innerHTML=""},o=function(t){s().innerHTML='<li class="hs-button"><div class="hs-number">'+t+"...</div></li>"},r=function(t){var e=null==t?"Error":t;s().innerHTML='<li class="hs-button"><div class="hs-number error">'+e+"</div></li>"},u=function(t){s().setAttribute("data-active-page",t)},a=function(){return!!s().getAttribute("data-active-page")},s=function(){return document.getElementById("hs_tooltip")},l=function(){s().setAttribute("style","display: none")},c=function(){s().setAttribute("style","display: block")},d=function(){return document.getElementById("hs_popup")},p=function(){return document.getElementById("cucumberStat")},f=function(){return document.getElementById("hs_popup__close")},m=function(){return document.getElementById("hs_collapse_all")},h=function(){return document.getElementById("hs_expand_all")},g=function(){return document.getElementsByClassName("collapsible")},v=function(){d().setAttribute("style","display: none;")},b=function(){d().setAttribute("style","display: block;")},y=function(){_.each(g(),function(t){t.setAttribute("style","display: none;")})},w=function(t){console.log(t),r(null)},E=function(t){i();var e=JSON.parse(t).page;0==e.length&&n(null),_.each(e,function(t){n(t)})},A=function(t){var e=s().getAttribute("data-active-page");l(),i(),n(e);var o=JSON.parse(t).features;d().innerHTML=""==o?"There is no tests that include this page.":_.template(p().innerHTML,{features:o}),f().addEventListener("click",function(){v(),c()}),m().addEventListener("click",function(t){y(),t.preventDefault()}),h().addEventListener("click",function(t){_.each(g(),function(t){t.setAttribute("style","")}),t.preventDefault()}),y(),b()};window.onload=function(){var n='<ol id="hs_tooltip"></ol>\n<div id="hs_popup" style="display: none;">';document.getElementById("hs_wrapper").innerHTML=n,o("Page identification");var i=e({url:document.URL||window.location.href,title:document.title});t("GET",i,E,w)}}();